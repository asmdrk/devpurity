<!DOCTYPE html>
<html lang="en">
        
    <head>

        <title>Dev Purity Test</title>
        <link rel="stylesheet" href="style.css">
    </head>

     <body>
        <p>
            <p>
                    <img src="media/devUnofficialB.png" alt="Dev Purity Banner">
            </p>
                <p><i> The Dev Purity Test has historically served as a segue from your first line of code to a true developer<br /> It's a voluntary opportunity for students to track the maturation of their journey to tech.</i></p>
                <p><strong>Caution: This is not a bucket list. Completion of all items on this test will likely result in Brain Damage</strong></p>
                <br />
                Click on every item you have done. 
                <abbr title="Preferred Programming Language">PPL</abbr> stands for Preferred Programming Language.
        </p>
    <div id = "questions">
        <ol id = "questionsList">
        </ol>
    </div>
    <div>
        <input class="button" id="submit" type="submit" value="Calculate My Score!">
         <input class="button" id="submit" type="submit" value="Clear checkboxes">
    </div>
    <script>
    fetch('questions.json')
        .then(response => response.json())
        .then(questions => {
    const questionList = document.getElementById("questionsList");
    questions.forEach(q => {
      const li = document.createElement("li");
      li.innerHTML = `<label><input type="checkbox"> ${q.text}</label>`;
      questionList.appendChild(li);
    });
  });

  function score() {
  // Calculates purity
  var sinList = document.querySelectorAll('input[type="checkbox"]:checked');
  var sins = sinList.length;
  var purity = 100 - sins + 1;

  //Sends score to GA4
  gtag('event', 'score', {
    'score': purity,
  });

  sessionStorage.setItem("score", purity);
  window.location.href = `score/?score=${purity}`;
}
    </script>
    </body>